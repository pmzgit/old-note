## [vimrc](https://github.com/amix/vimrc)
```sh
git clone --depth=1 https://github.com/amix/vimrc.git ~/.vim_runtime

sh ~/.vim_runtime/install_basic_vimrc.sh
```


## gvim 安装vundle
https://github.com/VundleVim/Vundle.vim

## 正则
- [vim正则表达式（转）](http://www.cnblogs.com/PegasusWang/p/3153300.html)

## 在vim执行外部(shell)命令

在命令行模式中输入 **!** 可以执行外部的shell命令

* `:!ls` 用于显示当前目录的内容
* `:!rm FILENAME` 用于删除名为 FILENAME 的文件
* `:w FILENAME` 可将当前 VIM 中正在编辑的文件另存为 FILENAME 文件
* `:w !sudo tee %`  vim保存时获得sudo权限， 询问后，输入O，此时文件已经保存完毕，q! 强制退出即可。
## 获取vim配置

命令行模式下输入:set或者:se显示所有修改过的配置  
命令行模式下输入:set all 显示所有的设定值  
命令行模式下输入:set option? 显示option的设定值  
命令行模式下输入:set nooption 取消当期设定值  
:sy on 语法高亮  
:set go=  
:colo (tabs)  
:tabnew (tabs/enter)  
set guifont=Consolas\ 12 设置默认字体  

：reg 12个粘贴板  
删除空白行  
：g/^\s*$/d
## vim 查找时 忽略大小写
```shell
:set ic? // 读取配置值
:set ic  // 忽略
:set noic // 大小写敏感
```
# vim 查找替换
* 全词匹配  
“\>” 是一个特殊的记号，表示只匹配单词末尾。类似地，”\<” 只匹配单词的开头。

vi/vim 中可以使用 :s 命令来替换字符串

:s/vivian/sky/ 替换当前行第一个 vivian 为 sky

:s/vivian/sky/g 替换当前行所有 vivian 为 sky

:n,$s/vivian/sky/ 替换第 n 行开始到最后一行中每一行的第一个 vivian 为 sky

:n,$s/vivian/sky/g 替换第 n 行开始到最后一行中每一行所有 vivian 为 sky

n 为数字，若 n 为 .，表示从当前行开始到最后一行

:%s/vivian/sky/（等同于 :g/vivian/s//sky/） 替换每一行的第一个 vivian 为 sky

:%s/vivian/sky/g（等同于 :g/vivian/s//sky/g） 替换每一行中所有 vivian 为 sky 

:.,.+8s/dog/cat/g 以下命令指定只在后续9行内进行替换

:/FROM/,/;/s/=/<>/g 你还可以将特定字符做为替换范围。比如，将SQL语句从FROM至分号部分中的所有等号（=）替换为不等号（<>）：	

在可视化模式下，首先选择替换范围, 然后输入:进入命令模式，就可以利用s命令在选中的范围内进行文本替换

可以使用 # 作为分隔符，此时中间出现的 / 不会作为分隔符

:s#vivian/#sky/# 替换当前行第一个 vivian/ 为 sky/

:%s+/oradata/apras/+/user01/apras1+ （使用+ 来 替换 / ）： /oradata/apras/替换成/user01/apras1/
## vim 重加载文件
配置：`set autoread`  
或者  `:e!`
## 视图模式
* 在普通模式下输入v（小写），进入字符选择模式，就可以移动光标，光标走过的地方就会选取。再次按下v会后就会取消选取。
* 在普通模式下输入Shift+v（小写），进入行选择模式，按下V之后就会把整行选取，您可以上下移动光标选更多的行，同样，再按一次Shift+v就可以取消选取。
* 在普通模式下输入 Ctrl+v（小写），这是区域选择模式，可以进行矩形区域选择，再按一次Ctrl+v取消选取。
* 在普通模式下输入d删除选取区域内容
* 在普通模式下输入y复制选取区域内容

## vim块操作：列删除、列插入
1、vim中块删除：

第一步：按下组合键“CTRL+v” 进入“可视 块”模式，选取这一列操作多少行

第二步：按下d 即可删除被选中的整块

2、vim中块插入

第一步：按下组合键“CTRL+v” 进入“可视 块”模式，选取这一列操作多少行

第二步：按下shift+i(或者大写的字母"i")

第三步：输入要插入的内容

第四步：按ESC，之后就会看到插入的效果。

## 文件管理
另一种就是进入vim后再编辑其他的文件。 同时创建两个新文件并编辑

* vim 1.txt 2.txt  
默认进入1.txt文件的编辑界面  
命令行模式下输入:n编辑2.txt文件，可以加!即:n!强制切换，之前一个文件的输入没有保存，仅仅切换到另一个文件  
命令行模式下输入:N编辑1.txt文件，可以加!即:N!强制切换，之前文件内的输入没有保存，仅仅是切换到另一个文件  
* 进入vim后打开新文件  
命令行模式下输入:e 3.txt 打开新文件3.txt  
命令行模式下输入:e# 回到前一个文件  
命令行模式下输入:ls可以列出以前编辑过的文档  
命令行模式下输入:b 2.txt（或者编号）可以直接进入文件2.txt编辑  
命令行模式下输入:bd 2.txt（或者编号）可以删除以前编辑过的列表中的文件项目  
命令行模式下输入:e! 4.txt，新打开文件4.txt，放弃正在编辑的文件  
命令行模式下输入:f 显示正在编辑的文件名  
命令行模式下输入:f new.txt，改变正在编辑的文件名字为new.txt  
## 窗口管理  
1. 除了:new命令，下述列举的多种方法也可以在命令模式或普通模式下打开新的视窗：

	* 命令行模式下输入:sp 1.txt 打开新的横向视窗来编辑1.txt
	* 命令行模式下输入:vsp 2.txt 打开新的纵向视窗来编辑1.txt
	* 普通模式下Ctrl-w s 将当前窗口分割成两个水平的窗口
	* 普通模式下Ctrl-w v 将当前窗口分割成两个垂直的窗口
	* 普通模式下Ctrl-w q 即 :q 结束分割出来的视窗。如果在新视窗中有输入需要使用强制符！即:q!
	* 普通模式下Ctrl-w o 打开一个视窗并且隐藏之前的所有视窗
	* 普通模式下Ctrl-w j 移至下面视窗
	* 普通模式下Ctrl-w k 移至上面视窗
	* 普通模式下Ctrl-w h 移至左边视窗
	* 普通模式下Ctrl-w l 移至右边视窗
	* 普通模式下Ctrl-w J 将当前视窗移至下面
	* 普通模式下Ctrl-w K 将当前视窗移至上面
	* 普通模式下Ctrl-w H 将当前视窗移至左边
	* 普通模式下Ctrl-w L 将当前视窗移至右边
	* 普通模式下Ctrl-w - 减小视窗的高度
	* 普通模式下Ctrl-w + 增加视窗的高度
## 文件比较 vimdiff [转载](http://www.cnblogs.com/MuyouSome/archive/2013/04/28/3049661.html)
某一文件中存在的行的背景色被设置为蓝色，而在另一文件中的对应位置被显示为绿色。两个文件中都存在，但是包含差异的行显示为粉色背景，引起差异的文字用红色背景加以突出。
```shell
1 命令行模式
vimdiff  FILE_LEFT  FILE_RIGHT
vim -d  FILE_LEFT  FILE_RIGHT
或者
:vertical diffsplit FILE_RIGHT

2 如果希望交换两个窗口的位置，或者希望改变窗口的分割方式，可以使用下列命令：

1. Ctrl-w K（把当前窗口移到最上边）
2.	Ctrl-w H（把当前窗口移到最左边）
3.	Ctrl-w J（把当前窗口移到最下边）
4.	Ctrl-w L（把当前窗口移到最右边）

其中1和3两个操作会把窗口改成水平分割方式。
3 可以使用快捷键在各个差异点之间快速移动。跳转到下一个差异点：
]c
//反向跳转是：
[c
如果在命令前加上数字的话，可以跳过一个或数个差异点，从而实现跳的更远。比如如果在位于第一个差异点的行输入"2]c"，将越过下一个差异点，跳转到第三个差异点。
4 文件合并
文件比较的最终目的之一就是合并，以消除差异。如果希望把一个差异点中当前文件的内容复制到另一个文件里，可以使用命令
dp （diff "put"）
如果希望把另一个文件的内容复制到当前行中，可以使用命令
do (diff "get"，之所以不用dg，是因为dg已经被另一个命令占用了)
如果希望手工修改某一行，可以使用通常的vim操作。如果希望在两个文件之间来回跳转，可以用下列命令序列：
Ctrl-w, w
在修改一个或两个文件之后，vimdiff会试图自动来重新比较文件，来实时反映比较结果。但是也会有处理失败的情况，这个时候需要手工来刷新比较结果：
:diffupdate
如果希望撤销修改，可以和平常用vim编辑一样，直接
<ESC>, u
但是要注意一定要将光标移动到需要撤销修改的文件窗口中。
5 同时操作两个文件
在比较和合并告一段落之后，可以用下列命令对两个文件同时进行操作。比如同时退出：
:qa （quit all）
如果希望保存全部文件：
:wa （write all）
或者是两者的合并命令，保存全部文件，然后退出：
:wqa （write, then quit all）
如果在退出的时候不希望保存任何操作的结果：
:qa! （force to quit all）
6 上下文的展开和查看
比较和合并文件的时候经常需要结合上下文来确定最终要采取的操作。Vimdiff 缺省是会把不同之处上下各 6 行的文本都显示出来以供参考。其他的相同的文本行被自动折叠。如果希望修改缺省的上下文行数，可以这样设置：
:set diffopt=context:3
可以用简单的折叠命令来临时展开被折叠的相同的文本行：
zo （folding open，之所以用z这个字母，是因为它看上去比较像折叠着的纸）
然后可以用下列命令来重新折叠：
zc （folding close）
```




## 创建加密文档

>`$ vim -x file1`  
输入您的密码 确认密码 这样在下一次打开时，vim就会要求你输入密码

## vim 键映射
* vim 有多个模式并不是什么大问题，但在模式间切换的时候会感觉很糟。ESC 键有点远，这太麻烦了。当我面对新的 vim 环境时，所做的第一件事就是添加如下映射
> inoremap jj <ESC>
